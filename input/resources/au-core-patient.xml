<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="au-core-patient"/>
  <url value="http://hl7.org.au/fhir/core/StructureDefinition/au-core-patient"/>
  <name value="AUCorePatient"/>
  <title value="AU Core Patient"/>
  <status value="draft"/>
  <description value="This profile sets minimum expectations for a Patient resource to record, search, and fetch basic demographics and other administrative information about an individual patient. It is based on the [AU Base Patient](http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html) profile and identifies the *additional* mandatory core elements, extensions, vocabularies and value sets that **SHALL** be present in the Patient when conforming to this profile. It provides the floor for standards development for specific uses cases in an Australian context."/>
  <kind value="resource"/>
  <abstract value="false"/>
  <type value="Patient"/>
  <baseDefinition value="http://hl7.org.au/fhir/StructureDefinition/au-patient"/>
  <derivation value="constraint"/>
  <differential>
    <element id="Patient">
      <path value="Patient"/>
      <short value="A patient in the context of electronic exchange of health information"/>
      <constraint>
        <key value="au-core-pat-01"/>
        <severity value="error"/>
        <human value="At least one patient identifier shall be valid"/>
        <expression value="identifier.where(system.count() + value.count() &gt;1).exists()"/>
        <xpath value="exists(f:identifier/f:system)"/>
        <source value="http://hl7.org.au/fhir/core/StructureDefinition/au-core-patient"
        />
      </constraint>
      <constraint>
        <key value="au-core-pat-02"/>
        <severity value="error"/>
        <human value="At least one patient name shall have a family name"/>
        <expression value="name.family.exists()"/>
        <xpath value="exists(f:name/f:family)"/>
        <source
          value="http://hl7.org.au/fhir/core/StructureDefinition/au-core-patient"
        />
      </constraint>
    </element>
    <element id="Patient.extension:birthPlace">
      <path value="Patient.extension"/>
      <sliceName value="birthPlace"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.extension:indigenousStatus">
      <path value="Patient.extension"/>
      <sliceName value="indigenousStatus"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.extension:interpreterRequired">
      <path value="Patient.extension"/>
      <sliceName value="interpreterRequired"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.identifier">
      <path value="Patient.identifier"/>
      <slicing>
        <discriminator>
          <type value="pattern"/>
          <path value="type"/>
        </discriminator>
        <rules value="open"/>
      </slicing>
      <min value="1"/>
      <condition value="au-core-pat-01"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.identifier:ihi">
      <path value="Patient.identifier"/>
      <sliceName value="ihi"/>
      <max value="1"/>
      <type>
        <code value="Identifier"/>
        <profile value="http://hl7.org.au/fhir/StructureDefinition/au-ihi"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.identifier:medicare">
      <path value="Patient.identifier"/>
      <sliceName value="medicare"/>
      <max value="1"/>
      <type>
        <code value="Identifier"/>
        <profile value="http://hl7.org.au/fhir/StructureDefinition/au-medicarecardnumber"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.identifier:dva">
      <path value="Patient.identifier"/>
      <sliceName value="dva"/>
      <max value="1"/>
      <type>
        <code value="Identifier"/>
        <profile value="http://hl7.org.au/fhir/StructureDefinition/au-dvanumber"/>
      </type>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.name">
      <path value="Patient.name"/>
      <min value="1"/>
      <comment value="A patient may have multiple names with different uses or applicable periods. At least one name SHOULD be the name the patient is considered to have for administrative and record keeping purposes - family name is used to enable matching against patient records."/>
      <condition value="inv-au-core-pat-02"/>
      <constraint>
        <key value="au-core-pat-04"/>
        <severity value="error"/>
        <human
          value="At least text, family name, or given name shall be present"/>
        <expression
          value="text.exists() or family.exists() or given.exists()"/>
        <xpath value="exists(f:text) or exists(f:family) or exists(f:given)"/>
        <source
          value="http://hl7.org.au/fhir/core/StructureDefinition/au-core-patient"
        />
      </constraint>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.name.use">
      <path value="Patient.name.use"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.telecom">
      <path value="Patient.telecom"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.gender">
      <path value="Patient.gender"/>
      <min value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.birthDate">
      <path value="Patient.birthDate"/>
      <min value="1"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.birthDate.extension:accuracyIndicator">
      <path value="Patient.birthDate.extension"/>
      <sliceName value="accuracyIndicator"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.birthDate.extension:birthTime">
      <path value="Patient.birthDate.extension"/>
      <sliceName value="birthTime"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.address">
      <path value="Patient.address"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.communication">
      <path value="Patient.communication"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.communication.language">
      <path value="Patient.communication.language"/>
      <mustSupport value="true"/>
    </element>
    <element id="Patient.communication.preferred">
      <path value="Patient.communication.preferred"/>
      <mustSupport value="true"/>
    </element>
  </differential>
</StructureDefinition>
